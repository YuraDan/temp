<div ng-controller="CapitalConstructsConstructController">
<div class="modal-header">
	<h3 class="modal-title"><span translate>CapitalConstructs.Construct</span>: {{construct.cadastralNumber}}</h3>
</div>
<div class="modal-body">

	<form name="constructForm" novalidate>
		<tabset>
			<tab>
				<tab-heading>
					<span translate>GeneralInfo</span>
				</tab-heading>
				<div ng-include src="'app2/capital-constructs/construct/construct-form-general.htm'"></div>
			</tab>
			<tab>
				<tab-heading>
					<span translate>Lands.Land.Rights</span>
				</tab-heading>
				<div>
					<mgis-property-rights rights="item.rights" form="constructForm" encumbrance="item.encumbrance"></mgis-property-rights>
					<mgis-property-payments payments="item.rights" form="constructForm"></mgis-property-payments>
				</div>
			</tab>
			<tab>
				<tab-heading>
					<span translate>CapitalConstructs.Construct.Characteristics</span>
				</tab-heading>
				<div ng-include src="'app2/capital-constructs/construct/construct-form-characteristics.htm'"></div>
			</tab>
			<tab>
				<tab-heading>
					<span translate>CapitalConstructs.Construct.ConstructiveElements</span>
				</tab-heading>
				<div ng-include src="'app2/capital-constructs/construct/construct-form-constructive-elements.htm'"></div>
			</tab>

			<tab>
				<tab-heading>
					<a href="javascript:void(0)" data-toggle="dropdown" role="button" aria-expanded="false">
						<span translate>CapitalConstructs.Construct.RelatedObjects</span>
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="javascript:void(0)" ng-click="setSubmenuState(0)" translate>CapitalConstructs.Construct.IncludedObjects</a></li>
						<li><a href="javascript:void(0)" ng-click="setSubmenuState(1)" translate>CapitalConstructs.Construct.ParentObjects</a></li>
					</ul>
				</tab-heading>
				<div ng-include src="submenuState.url"></div>
			</tab>

			<!--<tab>-->
			<!--<tab-heading>-->
			<!--<span translate>CapitalConstructs.Construct.Works</span>-->
			<!--</tab-heading>-->
			<!--<div ng-include src="'app2/capital-constructs/construct/construct-form-works.htm'"></div>-->
			<!--</tab>-->
			<tab select="constructSelected=true" deselect="constructSelected=false">
				<tab-heading>
					<span translate>Lands.Land.Map</span>
				</tab-heading>
				<div ng-if="constructSelected" ng-include src="'app2/capital-constructs/construct/construct-form-map.htm'"></div>
			</tab>
			<tab>
				<tab-heading>
					<span translate>Reports</span>
				</tab-heading>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 translate>Reports</h3>
					</div>
					<div class="panel-body">
						<reports-generator filter="CapitalConstructs" data="[item]"></reports-generator>
					</div>
				</div>
			</tab>
		</tabset>
	</form>
</div>

<div class="modal-footer">
	<button type="submit" class="btn btn-primary" ng-disabled="constructForm.$invalid" ng-click="ok()" translate>Submit</button>
	<button type="button" class="btn btn-default" ng-click="cancel()" translate>Cancel</button>
</div>
</div>
